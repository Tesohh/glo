[ ] Add middleware support
[ ] Add some useful helper types / functions